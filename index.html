<!DOCTYPE html>
	<head>
		<title>SplineJS Demo</title>
		<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
		<script src="https://code.jquery.com/jquery.js"></script>
		<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.2/js/bootstrap.min.js"></script>
		<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
		<script src="splinejs.js" type="text/javascript"></script>
		<style>
			.chart{
				background-color:#efefef;
				border:solid 1px #ccc;
			}
			footer{
				background-color:#efefef;
				border-top:#ccc solid 1px;
				padding:20px;
				text-align:center;
				margin-top:30px;
			}
			path {
				stroke: steelblue;
				stroke-width: 1.5;
				fill: none;
			}
			path.red{
				stroke:#ff0000;
			}
			
			.axis {
			  shape-rendering: crispEdges;
			}

			.x.axis line {
			  stroke: lightgrey;
			}

			.x.axis .minor {
			  stroke-opacity: .5;
			}

			.x.axis path {
			  display: none;
			}

			.y.axis line, .y.axis path {
			  fill: none;
			  stroke: #222;
			}
		</style>
		<script type="text/javascript">
			$(document).ready(function(){
				
				var m = [20, 20, 20, 20]; // margins
				
				var w = $('#chart1').width();
				var h = 200;
				
				console.log(w,h);
				
				var data = [3, 6, 2, 7, 5, 2, 0, 3, 8, 9, 2, 5, 9, 3, 6, 3, 6, 2, 7, 5, 2, 1, 3, 8, 9, 2, 5, 9, 2, 7];
				var data2 = [8, 3, 1, 5, 3, 1, -3, 9, 2, 9, 2, 5, 9, 3, 6, 3, 6, 2, 7, 5, 2, 1, 3, 8, 9, 2, 5, 9, 2, 7];
				
				var x = d3.scale.linear().domain([0, data.length]).range([0, w]);
				var y = d3.scale.linear().domain([0, 10]).range([h, 0]);
				
				var line = d3.svg.line()
				.x(function(d,i) { 
					return x(i); 
				})
				.y(function(d) { 
					return y(d); 
				});

				// Add an SVG element with the desired dimensions and margin.
				var graph = d3.select("#chart1")
					.append("svg:svg")
						.attr("width", '100%')
						.attr("height", h)
						//.attr('preserveAspectRatio','xMinYMin')
						.attr("viewBox", "0 0 " + (w+70) + " " + (h+30) )
						//.attr("preserveAspectRatio", "xMidYMid")
						.attr("preserveAspectRatio", "xMinYMin meet")
					.append("g")
						.attr("transform", "translate(" + 50 + "," + 10 + ")");

				// create yAxis
				var xAxis = d3.svg.axis().scale(x).tickSize(-h).tickSubdivide(true);
				// Add the x-axis.
				graph.append("svg:g")
				      .attr("class", "x axis")
				      .attr("transform", "translate(0," + h + ")")
				      .call(xAxis);
	
	
				// create left yAxis
				var yAxisLeft = d3.svg.axis().scale(y).ticks(4).orient("left");
				// Add the y-axis to the left
				graph.append("svg:g")
				      .attr("class", "y axis")
				      .attr("transform", "translate(-25,0)")
				      .call(yAxisLeft);
				
	  			// Add the line by appending an svg:path element with the data line we created above
				// do this AFTER the axes above so that the line is above the tick-lines
	  			graph.append("svg:path").attr("d", line(data));
	  			
	  			graph.append("svg:path").attr("d", line(data2)).attr('class','red');
				
				//Spline.draw('#chart1',{x:d3.scale.linear().range([0, 4]), y:d3.scale.linear().range([4, 8]),});
			});
		</script>
	</head>
	<body>
		<div class="container">
			<div class="navbar navbar-default" role="navigation">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="#">SplineJS</a>
				</div>
				<div class="navbar-collapse collapse">
					<ul class="nav navbar-nav">
						<li class="active"><a href="#">Home</a></li>
						<li><a href="#doc">Documentation</a></li>
						<li><a href="#source">Source</a></li>
					</ul>
				</div><!--/.nav-collapse -->
			</div>
			
			<h1>SplineJS</h1>
			<p>JavaScript library for numerical computation.</p>
			<p>
				<iframe class="github-btn" style="display:inline-block; width:100px;" src="http://ghbtns.com/github-btn.html?user=aurbano&amp;repo=splinejs&amp;type=watch&amp;count=true" wtransparency="true" frameborder="0" scrolling="0" height="20px"></iframe>
				<iframe class="github-btn" style="display:inline-block; width:100px;" src="http://ghbtns.com/github-btn.html?user=aurbano&amp;repo=splinejs&amp;type=fork&amp;count=true" allowtransparency="true" frameborder="0" scrolling="0" height="20px"></iframe>
			</p>
		
			<h2>Demos</h2>
			<h3>Simple chart</h3>
			<div class="row">
				<div class="col-md-9">
					<div id="chart1" class="chart"></div>
				</div>
				<div class="col-md-3">
					<table class="table table-striped">
						<tr>
							<th>X</th>
							<th>Y</th>
							<th>Y<small>aprox</small></th>
						</tr>
						<tr>
							<td>0</td>
							<td>0</td>
							<td>0</td>
						</tr>
					</table>
				</div>
			</div>
			<footer>
				<p class="muted-text credit">Developed by <a href="http://urbanoalvarez.es">Alejandro U. √Ålvarez</a> &bull; Released under the MIT License &bull; <a href="https://github.com/aurbano/SplineJS">GitHub</a></p>
			</footer>
		</div>
	</body>
</html>